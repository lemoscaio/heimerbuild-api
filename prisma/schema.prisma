// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  password String
  builds   Build[]

  @@map("users")
}

model Build {
  id           Int    @id @default(autoincrement())
  userId       Int
  championName String
  championKey  String
  cost         Int?   @default(-1)
  level        Int

  user User @relation(fields: [userId], references: [id])

  items Item[]
  stats Stats?

  @@map("builds")
}

model Stats {
  id      Int   @id @default(autoincrement())
  buildId Int   @unique
  build   Build @relation(fields: [buildId], references: [id])

  attackDamage               Int
  abilityPower               Int
  armor                      Int
  magicResistance            Int
  attackSpeed                Float
  abilityHaste               Int
  criticalStrike             Int
  movespeed                  Int
  health                     Int
  healthRegen                Float
  mana                       Int
  manaRegen                  Float
  lethality                  Int
  armorPenetration           Int
  flatMagicPenetration       Int
  percentageMagicPenetration Int
  lifeSteal                  Int
  physicalVamp               Int
  omniVamp                   Int
  attackRange                Int
  tenacity                   Int

  @@map("stats")
}

model Item {
  id      Int    @id @default(autoincrement())
  buildId Int
  itemId  String

  buil Build @relation(fields: [buildId], references: [id])

  @@map("items")
}
